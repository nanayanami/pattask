<%# 投稿一覧にあるカテゴリー一覧に戻るはここにたどり着く　だけどチーム選択してたどり着くカテゴリー一覧はcategories.indexに遷移する %>

<div class="posts cover">
  <h1 class="posts-title">カテゴリー一覧</h1>
  <p class="posts-meta">チーム: <%= @team.name %></p>

  <div class="posts-search">
     <%= form_with url: team_categories_path(@team), method: :get, local: true do |f| %>
      <%= f.text_field :search %>
      <%= f.submit '検索する',name:nil %>
    <% end %>
  </div>

  <%= link_to "新規カテゴリーを作成", new_team_category_path(@team) , class: "btn btn-primary btn-lg posts-new" %>

  <% @categories.each do |category| %>
    <div class="post-item">
      <div class="d-flex justify-content-between align-items-center post-head w-100">
        <h3 class="mb-0 post-title"><%= link_to category.name, team_category_path(@team, category) %></h3>
        <div class="d-flex gap-2 post-actions">


        <%= link_to "カテゴリー編集", edit_team_category_path(@team, category), class: "btn btn-success btn-sm btn-edit" %>
        <%= link_to "カテゴリー削除", team_category_path(@team, category),
                      data: { turbo_method: :delete, turbo_confirm: "削除してよろしいですか？" },
                      class: "btn btn-danger btn-sm btn-del" %>
        </div>
      </div>
    </div>
  <% end %>

  <div class="pagination-wrapper">
    <%= paginate @categories %>
  </div>
</div>